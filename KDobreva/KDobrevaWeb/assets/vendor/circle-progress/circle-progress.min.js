/*
 * jquery-circle-progress - jQuery Plugin to draw animated circular progress bars
 *
 * @author https://github.com/kottenator
 * @version 0.6.0
 */
!function(a){a.circleProgress={defaults:{value:0,size:150,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(255, 255, 255, .9)",animation:{duration:1200,easing:"circleProgressEasing"}}},a.easing.circleProgressEasing=function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},a.fn.circleProgress=function(b){return"widget"==b?this.data("circle-progress"):(b=a.extend({},a.circleProgress.defaults,b),this.each(function(){function q(a){l.clearRect(0,0,d,d),r(a),s(a)}function r(a){l.save(),l.beginPath(),l.arc(e,e,e-f/2,h,h+2*Math.PI*a),l.lineWidth=f,l.strokeStyle=j,l.stroke(),l.restore()}function s(a){l.save(),a<1&&(l.beginPath(),a<=0?l.arc(e,e,e-f/2,0,2*Math.PI):l.arc(e,e,e-f/2,h+2*Math.PI*a,h),l.lineWidth=f,l.strokeStyle=i,l.stroke()),l.restore()}function t(d){c.trigger("circle-animation-start"),a(k).css({progress:0}).animate({progress:d},a.extend({},b.animation,{step:function(a){q(a),c.trigger("circle-animation-progress",[a/d,a])},complete:function(){c.trigger("circle-animation-end")}}))}var j,c=a(this),d=b.size,e=d/2,f=d/14,g=b.value,h=b.startAngle,i=b.emptyFill;a.isNumeric(b.thickness)&&(f=b.thickness);var k=c.data("circle-progress");k||(k=a("<canvas>").prependTo(c)[0],c.data("circle-progress",k)),k.width=d,k.height=d;var l=k.getContext("2d");if(!b.fill)throw Error("The fill is not specified!");if(b.fill.color&&(j=b.fill.color),b.fill.gradient){var m=b.fill.gradient;if(1==m.length)j=m[0];else if(m.length>1){for(var n=l.createLinearGradient(0,0,d,0),o=0;o<m.length;o++)n.addColorStop(o/(m.length-1),m[o]);j=n}}if(b.fill.image){var p=new Image;p.src=b.fill.image,p.onload=function(){var c=a("<canvas>")[0];c.width=d,c.height=d,c.getContext("2d").drawImage(p,0,0,d,d),j=l.createPattern(c,"no-repeat"),b.animation||q(g)}}b.animation?t(g):q(g)}))}}(jQuery);